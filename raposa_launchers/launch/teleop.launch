<launch>
    <!-- Load configuration from YAML -->
    <rosparam command="load" file="$(find idmind_robot)/cfg/idmind_robot.yaml" />
    <rosparam command="load" file="$(find raposa_launchers)/cfg/smoother.yaml" />
    <rosparam command="load" file="$(find idmind_motorsboard)/cfg/idmind_motors.yaml" />   
 	
    <!-- Launch motors and sensors boards -->
    <node pkg="idmind_motorsboard" type="idmind_motors.py" name="idmind_motors" respawn="false" />

    <!--<node pkg="idmind_sensorsboard" type="idmind_sensors.py" name="idmind_sensors"/>-->

    <node pkg="idmind_navigation" type="odometry_node.py" name="odometry_node"/>
    
    <node pkg="smoother" type="smoother_node" name="smoother_node" output="screen">
	<remap from="/cmd_vel_joy" to="/cmd_vel"/>
    </node>
    
    <!-- Launch IMU -->
    <node pkg="tf2_ros" type="static_transform_publisher" name="imu_broadcaster" args="0.04 -0.10 0 3.14 0 0 base_link base_link_imu" />
   
    <include file="$(find idmind_imu)/launch/idmind_imu.launch">
        <arg name="imu" value="razor" />
    </include> 

    <include file="$(find idmind_teleop)/launch/idmind_teleop.launch" />

</launch>
